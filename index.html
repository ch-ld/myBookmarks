<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./style.css">
    <title>我的导航</title>
</head>
<body>
<header></header>
<main>
    <div class="wrapper" id="main1"></div>

</main>
<footer></footer>
<script>
    keys = {
        0: ['q','w','e','r','t','y','u','i','o','p'],
        1: ['a','s','d','f','g','h','j','k','l'],
        2: ['z','x','c','v','b','n','m'],
        length: 3
    }

    hash = {
        q: 'qq.com',
        w: 'weibo.com',
        e: 'ele.com',
        r: 'renren.com',
        t: 'taobao.com',
        y: 'uahoo.com',
        u: 'uc.com',
        i: 'iqiyi.com',
        o: 'opera.com',
        p: undefined,
        a: 'aliba.com',
        s: 'sohu.com',
        z: 'zhihu.com',
        m: 'jingongmeng.con.cn',
    }

    hashInLocalStorage = JSON.parse(localStorage.getItem('zzz') || 'null')
    if(hashInLocalStorage){
        hash = hashInLocalStorage
    }

    index = 0
    while(index< keys['length']){
        div1 = document.createElement('div')
        main1.appendChild(div1)
        row = keys[index]
        index2 = 0
        while (index2< row['length']){
            kbd1 = document.createElement('kbd')
            kbd1.textContent = row[index2]
            buttonX = document.createElement('button')
            buttonX.textContent = '编辑'
            buttonX.id = row[index2]
            buttonX.onclick = function(hahaha){
                key2 = hahaha.target.id
                x = prompt('给我一个网址')
                hash[key2] = x
                localStorage.setItem('zzz', JSON.stringify(hash))
                console.log(hash)
            }
            kbd1.appendChild(buttonX)
            div1.appendChild(kbd1)
            index2 = index2 + 1
        }
        index = index+1
    }

    document.onkeypress = function (hahaha) {
        key = hahaha['key']
        website =  hash[key]
        console.log(website)
        //location.href = 'http://'+website
        window.open('http://'+website, '_blank')
    }
</script>
</body>
</html>